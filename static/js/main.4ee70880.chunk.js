(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{13:function(e,t,r){e.exports=r(36)},18:function(e,t,r){},19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){"use strict";r.r(t);var a,n,o,l=r(0),c=r.n(l),i=r(5),s=r.n(i),u=r(1),m=r(12),f=r(3),v=r(2),h=(r(18),function(){return c.a.createElement("div",{className:"game-info"},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("p",null,"App: Tic-tac-toe (Vietnamese: Caro) - v0.1.0 - written in React/NodeJS - \xa92020",c.a.createElement("br",null),"Author: Huynh Thanh Binh - Email: 1653006@student.hcmus.edu.vn",c.a.createElement("br",null),"Techniques: react stateful vs. stateless component & react time travel"))}),d=(r(19),function(e){var t=e.xIsNext;return c.a.createElement("div",{className:"game-status"},c.a.createElement("span",{className:t?"x-large":"o-large"},t?"X":"O"),c.a.createElement("span",{className:"turn-label"},"\xa0turn"))}),p=(r(20),function(e){return c.a.createElement("button",{className:"square",onClick:e.onClick,style:{color:"X"===e.value?"dodgerblue":"red",backgroundColor:e.background}},e.value)}),b=new Array(5),E=null,g=function(){return E},y=function(e,t){var r=A(e,t);if(-1!==r){for(var a=0;a<5;a++)b[a]=e[r+a];return E=t,!0}return!1},A=function(e,t){if(e.length>=5)for(var r=0;r<=e.length-5;r++)for(var a=0,n=r;n<r+5&&e[n].val===t;n++)if(5===++a)return r;return-1},k=function(e,t,r){for(var a=[],n=t-4>0?t-4:0;n<=(t+4<19?t+4:19);n++)a.push({val:e[n][r],row:n,col:r});return a},w=function(e,t,r){for(var a=[],n=r-4>0?r-4:0;n<=(r+4<19?r+4:19);n++)a.push({val:e[t][n],row:t,col:n});return a},N=function(e,t,r){for(var a,n,o,l,c=[],i=4;i>=0;i--)if(t-i>=0&&r-i>=0){o=i,a=t-i,n=r-i;break}for(var s=4;s>=0;s--)if(t+s<=19&&r+s<=19){l=o+1+s;break}for(var u=0;u<l;u++)c.push({val:e[a+u][n+u],row:a+u,col:n+u});return c},C=function(e,t,r){for(var a,n,o,l,c=[],i=4;i>=0;i--)if(t-i>=0&&r+i<=19){o=i,a=t-i,n=r+i;break}for(var s=4;s>=0;s--)if(t+s<=19&&r-s>=0){l=o+1+s;break}for(var u=0;u<l;u++)c.push({val:e[a+u][n-u],row:a+u,col:n-u});return c},S=(r(21),function(){for(var e=[],t=new Array(20).fill().map((function(){return new Array(20).fill("")})),r=0;r<20;r++){for(var a=0;a<20;a++)t[r][a]=O(r,a);e.push(c.a.createElement("div",{className:"board-row",key:"board-row-"+r},t[r]))}return e}),O=function(e,t){return c.a.createElement(p,{key:20*e+t,value:a[e][t],background:n[e][t],onClick:function(){return M(e,t)}})},M=function(e,t){null==a[e][t]&&o(e,t)},R=function(e){return a=e.valueArray,n=e.colorArray,o=e.onClickElement,c.a.createElement("div",{className:"game-board"},S())},j=r(6),x=r.n(j);r(33);x.a.setAppElement(document.getElementById("root"));var T=function(e){Object(f.a)(r,e);var t=Object(v.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).render=function(){return c.a.createElement(x.a,{isOpen:a.state.isModalShow,onAfterOpen:a.onAfterOpenModal,onRequestClose:a.hide,className:"modal-content",overlayClassName:"modal-overlay",contentLabel:"game-modal-dialog"},c.a.createElement("div",null,"The winner is: \xa0",c.a.createElement("span",{className:"X"===g()?"x-large":"o-large"},g())),c.a.createElement("br",null),c.a.createElement("button",{onClick:a.hide},"Close"))},a.onAfterOpenModal=function(){},a.show=function(){a.setState({isModalShow:!0})},a.hide=function(){a.setState({isModalShow:!1})},a.state={isModalShow:!1},a}return r}(l.Component),V=(r(34),!1),H=b,B=function(e){Object(f.a)(r,e);var t=Object(v.a)(r);function r(e){var a;return Object(u.a)(this,r),(a=t.call(this,e)).render=function(){var e=a.state.stepNumber%2===0;return c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"game-main"},c.a.createElement(d,{xIsNext:V?!e:e}),c.a.createElement(R,{onClickElement:function(e,t){return a.onClickElement(e,t)},valueArray:a.state.historicValueArray[a.state.stepNumber],colorArray:a.state.historicColorArray[V?1:0]}),c.a.createElement(h,null),c.a.createElement(T,{ref:a.gameModal})),c.a.createElement("div",{className:"game-vr"}),c.a.createElement("div",{className:"game-sub"},c.a.createElement("button",{className:"btnReverse",onClick:function(){return a.onClickRevert()}},"Reverse order"),c.a.createElement("ol",{className:"stepList"},a.renderStepList())))},a.onClickRevert=function(){a.setState({isHistorySortAsc:!a.state.isHistorySortAsc})},a.onClickElement=function(e,t){if(!V){var r=a.state.stepNumber%2===0,n=a.state.historicValueArray.slice(0,a.state.stepNumber+1),o=n[n.length-1].map((function(e){return e.slice()})),l=a.state.historicColorArray[0].map((function(e){return e.slice()}));if(o[e][t]=r?"X":"O",function(e,t,r){var a=e[t][r];return!!(y(k(e,t,r),a)||y(w(e,t,r),a)||y(N(e,t,r),a)||y(C(e,t,r),a))}(o,e,t)){V=!0;for(var c=0;c<5;c++)l[H[c].row][H[c].col]="darkkhaki";a.gameModal.current.show()}a.setState({historicValueArray:n.concat([o]),historicColorArray:V?a.state.historicColorArray.concat([l]):a.state.historicColorArray,stepNumber:n.length})}},a.renderStepList=function(){var e=a.state.stepNumber,t=a.state.historicValueArray.map((function(t,r){var n=r?"Go to step #"+r:"Go to game start";return c.a.createElement("li",{id:r,key:r},c.a.createElement("button",{className:r===e?"highlight":"non-highlight",onClick:function(){return a.goTo(r)}},n))}));return a.state.isHistorySortAsc?t:t.reverse()},a.gameStatus=c.a.createRef(),a.gameModal=c.a.createRef(),a.state={stepNumber:0,isHistorySortAsc:!0,historicValueArray:[I],historicColorArray:[L]},a}return Object(m.a)(r,[{key:"goTo",value:function(e){V||this.setState({stepNumber:e})}}]),r}(l.Component),I=Array(20).fill().map((function(){return new Array(20).fill(null)})),L=Array(20).fill().map((function(){return new Array(20).fill("black")})),X=B;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(35);s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.4ee70880.chunk.js.map